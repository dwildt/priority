<!DOCTYPE html>
<!--
  Priority Matrix - Eisenhower Matrix Task Organization System
  
  A personal task organization system based on the Eisenhower Matrix for prioritizing tasks
  by importance and urgency. Features multi-language support, battle mode for finding "The One"
  most important task, and print-ready reports.
  
  Key HTML Structure:
  - Matrix Grid: 4-quadrant layout for task categorization
  - Modals: Task creation/editing, battle mode, reports
  - Multi-language: data-i18n attributes for dynamic translation
  - Accessibility: Proper ARIA labels and keyboard navigation
  - Testing: data-cy attributes for Cypress E2E tests
  
  Quadrant Layout:
  Q1 (Do First): Important & Urgent - Crisis, emergencies, deadlines
  Q2 (Schedule): Important & Not Urgent - Planning, development, research  
  Q3 (Delegate): Not Important & Urgent - Interruptions, some meetings
  Q4 (Eliminate): Not Important & Not Urgent - Time wasters, busy work
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title data-i18n="app.title">Priority Matrix</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/print.css" media="print">
</head>
<body>
    <!-- Main Application Header -->
    <header class="app-header">
        <div class="header-content">
            <h1 data-i18n="app.title" data-cy="app-title">Priority Matrix</h1>

            <div class="header-controls">
                <!-- Settings Button -->
                <button id="settings-btn" data-cy="settings-btn" class="btn btn-icon settings-btn" title="Settings">
                    ‚öôÔ∏è
                </button>

                <!-- Primary Action Buttons -->
                <button id="add-task-btn" data-cy="add-task-btn" class="btn btn-primary">
                    <span data-i18n="buttons.add_task">Add Task</span>
                </button>

                <button id="generate-report-btn" data-cy="generate-report-btn" class="btn btn-secondary">
                    <span data-i18n="buttons.generate_report">Generate Report</span>
                </button>
            </div>
        </div>
    </header>

    <main class="app-main">
        <!-- The One Display -->
        <div id="the-one-display" class="the-one-display" style="display: none;">
            <h2 data-i18n="reports.the_one">The One</h2>
            <div id="the-one-task" data-cy="the-one-task" class="the-one-task"></div>
        </div>

        <!-- Eisenhower Matrix Grid -->
        <div class="matrix-container">
            <div class="matrix-grid">
                <!-- Quadrant 1: Urgent & Important -->
                <div class="quadrant quadrant-1" data-cy="quadrant-1" data-quadrant="1">
                    <div class="quadrant-header urgent-important">
                        <h2 data-i18n="matrix.quadrants.urgent_important">Do First</h2>
                        <p data-i18n="matrix.quadrants.urgent_important_desc">Urgent & Important</p>
                        <button class="battle-mode-btn" data-cy="battle-mode-btn" style="display: none;">
                            <span data-i18n="buttons.battle_mode">Battle Mode</span>
                        </button>
                    </div>
                    <div class="task-list" data-cy="task-list-1"></div>
                </div>

                <!-- Quadrant 2: Not Urgent & Important -->
                <div class="quadrant quadrant-2" data-cy="quadrant-2" data-quadrant="2">
                    <div class="quadrant-header not-urgent-important">
                        <h2 data-i18n="matrix.quadrants.not_urgent_important">Schedule</h2>
                        <p data-i18n="matrix.quadrants.not_urgent_important_desc">Important & Not Urgent</p>
                    </div>
                    <div class="task-list" data-cy="task-list-2"></div>
                </div>

                <!-- Quadrant 3: Urgent & Not Important -->
                <div class="quadrant quadrant-3" data-cy="quadrant-3" data-quadrant="3">
                    <div class="quadrant-header urgent-not-important">
                        <h2 data-i18n="matrix.quadrants.urgent_not_important">Delegate</h2>
                        <p data-i18n="matrix.quadrants.urgent_not_important_desc">Urgent & Not Important</p>
                    </div>
                    <div class="task-list" data-cy="task-list-3"></div>
                </div>

                <!-- Quadrant 4: Not Urgent & Not Important -->
                <div class="quadrant quadrant-4" data-cy="quadrant-4" data-quadrant="4">
                    <div class="quadrant-header not-urgent-not-important">
                        <h2 data-i18n="matrix.quadrants.not_urgent_not_important">Eliminate</h2>
                        <p data-i18n="matrix.quadrants.not_urgent_not_important_desc">Not Urgent & Not Important</p>
                    </div>
                    <div class="task-list" data-cy="task-list-4"></div>
                </div>
            </div>

            <!-- Matrix Labels -->
            <div class="matrix-labels">
                <div class="importance-label">
                    <span data-i18n="matrix.labels.importance">IMPORTANCE</span>
                    <div class="importance-arrow">‚Üë</div>
                </div>
                <div class="urgency-label">
                    <span data-i18n="matrix.labels.urgency">URGENCY</span>
                    <div class="urgency-arrow">‚Üí</div>
                </div>
            </div>
        </div>
    </main>

    <!-- Task Form Modal -->
    <div id="task-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 data-i18n="forms.task.title">Add New Task</h2>
                <button class="close-btn" data-cy="close-modal">&times;</button>
            </div>

            <form id="task-form" class="task-form">
                <div class="form-group">
                    <label for="task-name" data-i18n="forms.task.name">Task Name</label>
                    <input type="text" id="task-name" data-cy="task-name" required maxlength="100">
                </div>

                <div class="form-group">
                    <label for="task-description" data-i18n="forms.task.description">Description</label>
                    <textarea id="task-description" data-cy="task-description" rows="3" maxlength="500"></textarea>
                </div>

                <div class="form-group">
                    <label data-i18n="forms.task.importance_question">Is this task important?</label>
                    <div class="toggle-container">
                        <label class="toggle-switch">
                            <input type="checkbox" id="importance-toggle" data-cy="importance-toggle">
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="toggle-label" data-i18n="forms.task.importance_label">Important</span>
                    </div>
                </div>

                <div class="form-group">
                    <label data-i18n="forms.task.urgency_question">Is this task urgent?</label>
                    <div class="toggle-container">
                        <label class="toggle-switch">
                            <input type="checkbox" id="urgency-toggle" data-cy="urgency-toggle">
                            <span class="toggle-slider"></span>
                        </label>
                        <span class="toggle-label" data-i18n="forms.task.urgency_label">Urgent</span>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" id="cancel-btn" data-cy="cancel-btn" class="btn btn-secondary">
                        <span data-i18n="buttons.cancel">Cancel</span>
                    </button>
                    <button type="submit" id="save-task-btn" data-cy="save-task-btn" class="btn btn-primary">
                        <span data-i18n="buttons.save">Save</span>
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Battle Mode Modal -->
    <div id="battle-modal" class="modal" style="display: none;">
        <div class="modal-content battle-modal-content">
            <div class="modal-header">
                <h2 data-i18n="battle.title">Battle Mode</h2>
                <button class="close-btn" data-cy="close-battle-modal">&times;</button>
            </div>

            <div class="battle-content">
                <div class="battle-progress">
                    <div class="progress-bar">
                        <div class="progress-fill" id="battle-progress"></div>
                    </div>
                    <span class="progress-text" id="battle-progress-text">0 / 0</span>
                </div>

                <div id="battle-comparison" data-cy="battle-comparison" class="battle-comparison" style="display: none;">
                    <h3 data-i18n="battle.question">Which task is more important?</h3>

                    <div class="battle-tasks">
                        <div class="battle-task">
                            <h4 data-i18n="battle.task_a">Task A</h4>
                            <div class="task-card" id="battle-task-a"></div>
                            <button class="btn btn-battle" id="choose-a" data-cy="choose-a">
                                <span data-i18n="battle.choose_a">Choose A</span>
                            </button>
                        </div>

                        <div class="battle-vs">VS</div>

                        <div class="battle-task">
                            <h4 data-i18n="battle.task_b">Task B</h4>
                            <div class="task-card" id="battle-task-b"></div>
                            <button class="btn btn-battle" id="choose-b" data-cy="choose-b">
                                <span data-i18n="battle.choose_b">Choose B</span>
                            </button>
                        </div>
                    </div>
                </div>

                <div id="battle-result" data-cy="the-one-result" class="battle-result" style="display: none;">
                    <h3 data-i18n="battle.complete">Battle Complete!</h3>
                    <p data-i18n="battle.the_one_determined">The One has been determined</p>
                    <div id="battle-the-one" class="battle-the-one"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Report Modal -->
    <div id="report-modal" class="modal" style="display: none;">
        <div class="modal-content report-modal-content">
            <div class="modal-header">
                <h2 data-i18n="reports.title">Priority Report</h2>
                <button class="close-btn" data-cy="close-report-modal">&times;</button>
            </div>

            <div class="report-content" id="report-content">
                <!-- Report content will be generated dynamically -->
            </div>

            <div class="report-actions">
                <button class="btn btn-secondary" id="print-report-btn" data-cy="print-report-btn">
                    <span data-i18n="buttons.print">Print</span>
                </button>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div id="settings-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 data-i18n="settings.title">Settings</h2>
                <button class="close-btn" data-cy="close-settings-modal">&times;</button>
            </div>

            <div class="settings-content">
                <div class="setting-group">
                    <h3 data-i18n="settings.language.title">Language</h3>
                    <select id="language-selector" data-cy="language-selector" class="language-selector">
                        <option value="en">üá∫üá∏ English</option>
                        <option value="pt">üáßüá∑ Portugu√™s</option>
                        <option value="es">üá™üá∏ Espa√±ol</option>
                    </select>
                </div>

                <div class="setting-group">
                    <h3 data-i18n="settings.data.title">Data Management</h3>
                    <div class="settings-actions">
                        <button id="import-btn" data-cy="import-btn" class="btn btn-secondary">
                            <span data-i18n="settings.data.import">Import Data</span>
                        </button>
                        <button id="export-btn" data-cy="export-btn" class="btn btn-secondary">
                            <span data-i18n="settings.data.export">Export Data</span>
                        </button>
                    </div>
                    <input type="file" id="import-file-input" accept=".json" style="display: none;">
                    <p class="setting-description" data-i18n="settings.data.description">
                        Export your tasks as JSON for backup, or import from a previously exported file.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Loading indicator -->
    <div id="loading" class="loading" style="display: none;">
        <div class="spinner"></div>
    </div>

    <!-- Print container (hidden, only visible during printing) -->
    <div id="print-container" class="print-container" style="display: none;"></div>

    <!-- Footer -->
    <footer class="app-footer">
        <div class="footer-content">
            <div class="footer-links">
                <a href="https://github.com/dwildt/priority" target="_blank" rel="noopener noreferrer" class="footer-link">
                    <span>üì¶</span>
                    <span data-i18n="footer.repository">Repository</span>
                </a>
                <a href="https://github.com/sponsors/dwildt" target="_blank" rel="noopener noreferrer" class="footer-link">
                    <span>‚ù§Ô∏è</span>
                    <span data-i18n="footer.sponsor">Sponsor</span>
                </a>
            </div>
            <div class="footer-credit">
                <div class="footer-generated">
                    <span data-i18n="footer.generated_with">Generated with</span>
                    <a href="https://claude.ai/code" target="_blank" rel="noopener noreferrer" class="footer-claude-link">
                        Claude Code
                    </a>
                </div>
                <div class="footer-subtitle">
                    <span data-i18n="app.subtitle">Organize your tasks (Eisenhower Matrix)</span>
                </div>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script type="module" src="js/app.js"></script>
</body>
</html>